<div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
  <h2 class="mb-0">
    <i class="bi bi-shield-lock me-2"></i>Adminbereich
  </h2>
  <div class="d-flex gap-2 flex-wrap">
    <a class="btn btn-outline-secondary btn-sm" href="/admin/dashboard">
      <i class="bi bi-speedometer2"></i> Dashboard
    </a>
    <a class="btn btn-outline-secondary btn-sm" href="/admin/categories">
      <i class="bi bi-grid"></i> Kategorien
    </a>
    <a class="btn btn-outline-secondary btn-sm" href="/admin/threads">
      <i class="bi bi-chat-dots"></i> Threads
    </a>
    <a class="btn btn-outline-secondary btn-sm" href="/admin/reports">
      <i class="bi bi-flag"></i> Meldungen
    </a>
    <a class="btn btn-outline-secondary btn-sm" href="/admin/log">
      <i class="bi bi-clipboard-data"></i> Admin-Log
    </a>
  </div>
</div>

<h3 class="mb-3">Dashboard</h3>

<section class="mb-4">
  <h4>Übersicht</h4>
  <p>User insgesamt: <strong><%= metrics.totalUsers %></strong></p>
  <p>Offene Meldungen: <strong><%= metrics.openReportsCount %></strong></p>
</section>

<section class="mb-4">
  <h4>Kategorien</h4>
  <table class="table table-sm">
    <thead>
      <tr>
        <th>Kategorie</th>
        <th>Threads</th>
        <th>Posts</th>
      </tr>
    </thead>
    <tbody>
      <% metrics.catStats.forEach(c => { %>
        <tr>
          <td><%= c.categoryName %></td>
          <td><%= c.threadCount %></td>
          <td><%= c.postCount %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</section>

<section class="mb-4">
  <h4>Gemeldete Beiträge</h4>
  <p>
    Offene Meldungen: <strong><%= metrics.openReportsCount %></strong>
  </p>
  <a class="btn btn-outline-secondary btn-sm" href="/admin/reports">
    <i class="bi bi-flag"></i> Zum Meldungsbereich
  </a>
</section>


<section class="mb-4">
  <h4>Top aktive User</h4>
  <ol class="mb-0">
    <% topUsers.forEach(u => { %>
      <li><%= u.username %> – <%= u.postCount %> Posts</li>
    <% }) %>
  </ol>
</section>
